#!/bin/bash

sudo pacman -S base-devel git
PARU_PATH="$HOME/Softwares/paru"
[ -d "$PARU_PATH" ] || {
    git clone https://aur.archlinux.org/paru.git "$PARU_PATH"
    cd "$PARU_PATH" || return 1
    makepkg -si
}

paru -S --needed\
    `# terminal and shell utilities`\
    alacritty dracula-alacritty-git p7zip unrar wget inetutils\
    xclip xsel tmux ranger neofetch starship trash-cli\
    cronie docker docker-compose yadm feh\
    `# proxy`\
    xray-bin proxychains-ng qv2ray-dev-git\
    `# X and windows manager`\
    xorg-server awesome-git lain-git nvidia nvidia-dkms nvidia-settings picom-ibhagwan-git\
    `# display manager and screen locker`\
    lightdm lightdm-webkit-theme-aether i3lock-color xidlehook\
    `# gtk theme and icon`\
    whitesur-gtk-theme-git papirus-icon-theme-git bibata-cursor-theme-bin\
    `# English fonts`\
    ttf-linux-libertine gentium-plus-font adobe-source-serif-fonts\
    `# coding fonts`\
    nerd-fonts-{mononoki,fira-code}\
    `# Chinese fonts`\
    wqy-microhei ttf-{arphic-ukai,sarasa-gothic}\
    `# symbol and unicode fonts`\
    ttf-twemoji ttf-material-design-icons-git ttf-symbola\
    `# input method`\
    fcitx5-im fcitx5-rime rime-cloverpinyin fcitx5-nord\
    `# editors`\
    neovim emacs\
    `# base develop`\
    geckodriver cmake man clang glslang\
    python-{3,pip,keyring,matplotlib,pandas,pylint,seaborn,selenium,tqdm,yaml}\
    `# system tools`\
    polkit-kde-agent gnome-keyring redshift pamac-aur rofi spectacle gparted xcolor feh\
    `# better alternative command`\
    fd ripgrep exa bat bpytop\
    `# doom emacs extension`\
    gnuplot direnv-bin shellcheck-bin prettier clang-format-static-bin mu isync\
    python-{black,isort,lsp-server,nose,pipenv,pyflakes,pytest}\
    `# others`\
    miktex-git nextcloud-client zotero

COMICSHANNS_PATH="$HOME/Softwares/comic-shanns"
[ -d "$COMICSHANNS_PATH" ] || {
    git clone https://github.com/shannpersand/comic-shanns.git "$COMICSHANNS_PATH"
    cd "$COMICSHANNS_PATH" || return 1
    cp v2/* ~/.local/share/fonts
}

AGAVE_PATH="$HOME/Softwares/agave"
[ -d "$AGAVE_PATH" ] || {
    cd ~/Softwares && curl -LO https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Agave.zip
    7z x Agave.zip -o"$AGAVE_PATH"
    cd "$AGAVE_PATH" && fd Windows -x rm && cp $(ls | grep -v Windows) ~/.local/share/fonts
}


#generate all system wide authorized keys, needed for sshd to run
#ssh-keygen -A
#generate a ssh key if not exist (add public key to github).
#ssh-keygen
